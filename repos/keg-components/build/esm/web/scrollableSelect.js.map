{"version":3,"file":"scrollableSelect.js","sources":["../../../src/components/form/scrollable/select/scrollableSelect.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { SelectItem } from '../item/item'\nimport { SelectView } from './selectView'\nimport { noOpObj } from '@keg-hub/jsutils'\nimport { withScrollIntoView } from 'KegHocs'\nimport { useStyle } from '@keg-hub/re-theme'\n\n/**\n * Wrapper around SelectItem that ensures it stays in the view\n * of the ScrollableSelect list (by automatically scrolling it)\n */\nconst InViewSelectItem = withScrollIntoView(SelectItem, false)\n\n/**\n * Holds the display style for the down based on visible state\n * @type {Object}\n */\nconst display = {\n  hidden: { display: 'none' },\n  visible: { display: 'block' },\n}\n\n/**\n * A scrollable menu list of items, with prop-adjustable height and visibility\n * @param {Object} props\n * @param {Array} props.items - array of objects of the form { text, key } - key is optional if each item has unique text\n * @param {Object} props.styles - style object for the view. \".main\": styles the root SelectView. \".content\": styles each SelectItem.\n * @param {Boolean} props.visible - boolean, indicating the menu is visible or hidden. Defaults to true.\n * @param {Function} props.onSelect - the callback of form (item) => {...}. Fires when a menu item is selected\n * @param {Number} props.height - the maximum height of the menu before scrolling is required to see remaining items.\n */\nexport const ScrollableSelect = ({\n  items,\n  styles,\n  height,\n  visible = true,\n  onSelect,\n  className,\n  renderItem,\n  selectedItem,\n  itemProps = noOpObj,\n}) => {\n  const selectStyle = useStyle(\n    styles?.main,\n    visible ? display.visible : display.hidden\n  )\n\n  return (\n    <SelectView\n      visible={visible}\n      style={selectStyle}\n      height={height ?? 150}\n      className={[ 'keg-scrollable-select', className ]}\n    >\n      { items.map(item => {\n        const highlighted = selectedItem && item.key === selectedItem.key\n        return (\n          <InViewSelectItem\n            key={item.key || item.text}\n            {...itemProps}\n            item={item}\n            onSelect={onSelect}\n            renderItem={renderItem}\n            highlighted={highlighted}\n            scrollIntoView={highlighted}\n            styles={styles?.content?.item || styles?.item}\n          />\n        )\n      }) }\n    </SelectView>\n  )\n}\n\nScrollableSelect.propTypes = {\n  styles: PropTypes.object,\n  height: PropTypes.number,\n  visible: PropTypes.bool,\n  onSelect: PropTypes.func,\n  renderItem: PropTypes.func,\n  itemProps: PropTypes.object,\n  selectedItem: PropTypes.object,\n  items: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n"],"names":["InViewSelectItem","withScrollIntoView","SelectItem","display","hidden","visible","ScrollableSelect","items","styles","height","onSelect","className","renderItem","selectedItem","itemProps","noOpObj","selectStyle","useStyle","main","React","map","item","highlighted","key","text","content"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,IAAMA,gBAAgB,GAAGC,kBAAkB,CAACC,UAAD,EAAa,KAAb,CAA3C;AAMA,IAAMC,OAAO,GAAG;AACdC,EAAAA,MAAM,EAAE;AAAED,IAAAA,OAAO,EAAE;AAAX,GADM;AAEdE,EAAAA,OAAO,EAAE;AAAEF,IAAAA,OAAO,EAAE;AAAX;AAFK,CAAhB;IAcaG,gBAAgB,GAAG,SAAnBA,gBAAmB,OAU1B;AAAA,MATJC,KASI,QATJA,KASI;AAAA,MARJC,MAQI,QARJA,MAQI;AAAA,MAPJC,MAOI,QAPJA,MAOI;AAAA,0BANJJ,OAMI;AAAA,MANJA,OAMI,6BANM,IAMN;AAAA,MALJK,QAKI,QALJA,QAKI;AAAA,MAJJC,SAII,QAJJA,SAII;AAAA,MAHJC,UAGI,QAHJA,UAGI;AAAA,MAFJC,YAEI,QAFJA,YAEI;AAAA,4BADJC,SACI;AAAA,MADJA,SACI,+BADQC,OACR;AACJ,MAAMC,WAAW,GAAGC,QAAQ,CAC1BT,MAD0B,aAC1BA,MAD0B,uBAC1BA,MAAM,CAAEU,IADkB,EAE1Bb,OAAO,GAAGF,OAAO,CAACE,OAAX,GAAqBF,OAAO,CAACC,MAFV,CAA5B;AAKA,SACEe,6BAAC,UAAD;AACE,IAAA,OAAO,EAAEd,OADX;AAEE,IAAA,KAAK,EAAEW,WAFT;AAGE,IAAA,MAAM,EAAEP,MAAF,aAAEA,MAAF,cAAEA,MAAF,GAAY,GAHpB;AAIE,IAAA,SAAS,EAAE,CAAE,uBAAF,EAA2BE,SAA3B;AAJb,KAMIJ,KAAK,CAACa,GAAN,CAAU,UAAAC,IAAI,EAAI;AAAA;AAClB,QAAMC,WAAW,GAAGT,YAAY,IAAIQ,IAAI,CAACE,GAAL,KAAaV,YAAY,CAACU,GAA9D;AACA,WACEJ,6BAAC,gBAAD;AACE,MAAA,GAAG,EAAEE,IAAI,CAACE,GAAL,IAAYF,IAAI,CAACG;AADxB,OAEMV,SAFN;AAGE,MAAA,IAAI,EAAEO,IAHR;AAIE,MAAA,QAAQ,EAAEX,QAJZ;AAKE,MAAA,UAAU,EAAEE,UALd;AAME,MAAA,WAAW,EAAEU,WANf;AAOE,MAAA,cAAc,EAAEA,WAPlB;AAQE,MAAA,MAAM,EAAE,CAAAd,MAAM,SAAN,IAAAA,MAAM,WAAN,+BAAAA,MAAM,CAAEiB,OAAR,oEAAiBJ,IAAjB,MAAyBb,MAAzB,aAAyBA,MAAzB,uBAAyBA,MAAM,CAAEa,IAAjC;AARV,OADF;AAYD,GAdC,CANJ,CADF;AAwBD;;;;"}