{"version":3,"file":"svgIcon.js","sources":["../../../src/components/svgIcon/svgIcon.js"],"sourcesContent":["import React, { useMemo } from 'react'\nimport * as NativeSvg from './svgIcon.native'\nimport { StyleInjector } from '@keg-hub/re-theme/styleInjector'\nimport { useTheme, useStyle } from '@keg-hub/re-theme'\nimport { get, isArr, deepMerge, noPropObj } from '@keg-hub/jsutils'\n\nconst { SvgIcon: KegSvgIcon, ...svgElements } = NativeSvg\n\n/**\n * Custom hook to check if the size prop is an array, and merge it. Otherwise just returns the style object\n * @param {Object|Array=} style - Style object used to apply custom styles to the component\n *\n * @returns {Object} - Merged style object\n */\nconst useIconStyle = style => {\n  return useMemo(() => {\n    return isArr(style) ? deepMerge(...style) : style\n  }, [style])\n}\n\n/**\n * Custom hook to find the size from the props and styles\n * @param {string=} size - Size of the Svg Component\n * @param {Object=} style - Style object used to apply custom styles to the component\n * @param {Object=} theme - Global theme object\n *\n * @returns {Object} - Contains the height and width props for the Svg element\n */\nconst useSize = (size, width, height, style, theme) => {\n  return useMemo(() => {\n    const iconSize = size || get(style, 'fontSize')\n    const themeSize = get(theme, 'typography.default.fontSize', 15) * 2\n    return {\n      height: height || iconSize || get(style, 'height', themeSize),\n      width: width || iconSize || get(style, 'width', themeSize),\n    }\n  }, [ size, width, height, style ])\n}\n\n/**\n * Custom hook to find the fill color from the props and styles\n * @param {string=} fill - Fill color of the path element\n * @param {string=} stroke - Color of the stroke for the path element\n * @param {string=} color - Color of the Svg component\n * @param {string} border - Used as the stroke color when no stroke prop is passed\n * @param {Object=} style - Style object used to apply custom styles to the component\n * @param {Object=} theme - Global theme object\n *\n * @returns {Object} - Contains the stroke and fill props for the path element\n */\nconst useColor = (fill, stroke, color, border, style, theme) => {\n  return useMemo(() => {\n    const themeColor = get(theme, 'typography.default.color')\n    return {\n      stroke:\n        stroke || border || style.border || color || style.color || themeColor,\n      fill: fill || color || style.color || stroke,\n    }\n  }, [ fill, stroke, color, border, style ])\n}\n\n/**\n * SvgIcon\n * @summary SVG component for rendering SVG icons\n *\n * @param {Object} props - see SvgIcon PropTypes\n * @property {String} props.className - Value to set the className to (web platform only)\n *\n */\nexport const SvgIconInject = StyleInjector(KegSvgIcon, {\n  maxSelectors: 0,\n  kegComponent: true,\n  displayName: 'SvgIcon',\n  className: 'keg-svg-icon',\n})\n\nexport const SvgIcon = React.forwardRef((props, ref) => {\n  const {\n    border,\n    color,\n    fill,\n    height,\n    size,\n    stroke,\n    style = noPropObj,\n    width,\n  } = props\n\n  const theme = useTheme()\n  const iconStyle = useIconStyle(style)\n  const sizeStyle = useSize(size, width, height, iconStyle, theme)\n  const svgStyles = useStyle(iconStyle, sizeStyle)\n  const colorStyle = useColor(fill, stroke, color, border, iconStyle, theme)\n\n  return (\n    <SvgIconInject\n      {...props}\n      {...sizeStyle}\n      {...colorStyle}\n      style={svgStyles}\n      ref={ref}\n    />\n  )\n})\n\n// add all the react-native-svg exports, like Circle, so that clients\n// can use them as children (e.g. SvgIcon.Circle)\nObject.assign(SvgIcon, svgElements)\n\nSvgIcon.propTypes = {\n  ...KegSvgIcon.propTypes,\n}\n"],"names":["KegSvgIcon","NativeSvg","svgElements","useIconStyle","style","useMemo","isArr","deepMerge","useSize","size","width","height","theme","iconSize","get","themeSize","useColor","fill","stroke","color","border","themeColor","SvgIconInject","StyleInjector","maxSelectors","kegComponent","displayName","className","SvgIcon","React","forwardRef","props","ref","noPropObj","useTheme","iconStyle","sizeStyle","svgStyles","useStyle","colorStyle","Object","assign"],"mappings":"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"}