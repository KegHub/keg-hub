{"version":3,"file":"grid.js","sources":["../../../src/components/layout/grid.js"],"sourcesContent":["import React, { useMemo } from 'react'\nimport { Row } from './row'\nimport PropTypes from 'prop-types'\nimport { Container } from './container'\nimport { useClassList } from 'KegClassList'\nimport { ensureArr } from '@keg-hub/jsutils'\nimport { useStyle } from '@keg-hub/re-theme'\n\n/**\n * Builds the styles based on the passed in isCenter param\n *\n * @param {*} isCenter - how to center the children. Should be x / y || true\n * @returns { object } - built center styles\n */\nconst useBuildCenterStyles = isCenter => {\n  return useMemo(() => {\n    if (!isCenter) return\n\n    return isCenter === 'x' || isCenter === 'xaxis' || isCenter === 'x-axis'\n      ? { justifyContent: 'center' }\n      : isCenter === 'y' || isCenter === 'yaxis' || isCenter === 'y-axis'\n        ? { alignItems: 'center' }\n        : (isCenter && { alignItems: 'center', justifyContent: 'center' }) || {}\n  }, [isCenter])\n}\n\n/**\n * Checks each child to determine if it's a column or row and if content is centered\n *\n * @param  { array || object } children - React Components\n * @return { bool }\n */\nconst useChildAttrs = children => {\n  return useMemo(() => {\n    return children.reduce(\n      (attrs, child) => {\n        if (attrs?.isRow && attrs?.isCenter) return attrs\n        if (!attrs?.isRow && child && child?.type === Row) attrs.isRow = true\n        if (!attrs?.isCenter && child && child?.props && child?.props?.center)\n          attrs.isCenter = child.props.center.toString().toLowerCase()\n\n        return attrs\n      },\n      { isRow: false, isCenter: false }\n    )\n  }, [children])\n}\n\nexport const Grid = ({ className, children, style, ...props }) => {\n  const { isRow, isCenter } = useChildAttrs(ensureArr(children))\n  const classNames = useClassList('keg-grid', className)\n  const centerStyles = useBuildCenterStyles(isCenter)\n\n  const containerStyle = useStyle('layout.grid.wrapper', style, centerStyles)\n\n  return (\n    <Container\n      {...props}\n      size={1}\n      style={containerStyle}\n      className={classNames}\n      flexDir={isRow ? 'column' : 'row'}\n    >\n      { children }\n    </Container>\n  )\n}\n\nGrid.propTypes = {\n  theme: PropTypes.object,\n  style: PropTypes.object,\n  className: PropTypes.string,\n}\n"],"names":["useBuildCenterStyles","isCenter","useMemo","justifyContent","alignItems","useChildAttrs","children","reduce","attrs","child","isRow","type","Row","props","center","toString","toLowerCase","Grid","className","style","ensureArr","classNames","useClassList","centerStyles","containerStyle","useStyle","React","Container"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,QAAQ,EAAI;AACvC,SAAOC,aAAO,CAAC,YAAM;AACnB,QAAI,CAACD,QAAL,EAAe;AAEf,WAAOA,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,OAAjC,IAA4CA,QAAQ,KAAK,QAAzD,GACH;AAAEE,MAAAA,cAAc,EAAE;AAAlB,KADG,GAEHF,QAAQ,KAAK,GAAb,IAAoBA,QAAQ,KAAK,OAAjC,IAA4CA,QAAQ,KAAK,QAAzD,GACE;AAAEG,MAAAA,UAAU,EAAE;AAAd,KADF,GAEGH,QAAQ,IAAI;AAAEG,MAAAA,UAAU,EAAE,QAAd;AAAwBD,MAAAA,cAAc,EAAE;AAAxC,KAAb,IAAoE,EAJ1E;AAKD,GARa,EAQX,CAACF,QAAD,CARW,CAAd;AASD,CAVD;AAkBA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,QAAQ,EAAI;AAChC,SAAOJ,aAAO,CAAC,YAAM;AACnB,WAAOI,QAAQ,CAACC,MAAT,CACL,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAAA;AAChB,UAAID,KAAK,SAAL,IAAAA,KAAK,WAAL,IAAAA,KAAK,CAAEE,KAAP,IAAgBF,KAAhB,aAAgBA,KAAhB,eAAgBA,KAAK,CAAEP,QAA3B,EAAqC,OAAOO,KAAP;AACrC,UAAI,EAACA,KAAD,aAACA,KAAD,eAACA,KAAK,CAAEE,KAAR,KAAiBD,KAAjB,IAA0B,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEE,IAAP,MAAgBC,OAA9C,EAAmDJ,KAAK,CAACE,KAAN,GAAc,IAAd;AACnD,UAAI,EAACF,KAAD,aAACA,KAAD,eAACA,KAAK,CAAEP,QAAR,KAAoBQ,KAApB,IAA6BA,KAA7B,aAA6BA,KAA7B,eAA6BA,KAAK,CAAEI,KAApC,IAA6CJ,KAA7C,aAA6CA,KAA7C,+BAA6CA,KAAK,CAAEI,KAApD,yCAA6C,aAAcC,MAA/D,EACEN,KAAK,CAACP,QAAN,GAAiBQ,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,QAAnB,GAA8BC,WAA9B,EAAjB;AAEF,aAAOR,KAAP;AACD,KARI,EASL;AAAEE,MAAAA,KAAK,EAAE,KAAT;AAAgBT,MAAAA,QAAQ,EAAE;AAA1B,KATK,CAAP;AAWD,GAZa,EAYX,CAACK,QAAD,CAZW,CAAd;AAaD,CAdD;IAgBaW,IAAI,GAAG,SAAPA,IAAO,OAA8C;AAAA,OAA3CC,SAA2C;AAAA,UAAhCZ,QAAgC,QAAhCA,QAAgC;AAAA,MAAtBa,KAAsB,QAAtBA,KAAsB;AAAA,MAAZN,KAAY;AAChE,uBAA4BR,aAAa,CAACe,iBAAS,CAACd,QAAD,CAAV,CAAzC;AAAA,MAAQI,KAAR,kBAAQA,KAAR;AAAA,MAAeT,QAAf,kBAAeA,QAAf;AACA,MAAMoB,UAAU,GAAGC,gCAAY,CAAA,CAA/B;AACA,MAAMC,YAAY,GAAGvB,oBAAoB,CAACC,QAAD,CAAzC;AAEA,MAAMuB,cAAc,GAAGC,gBAAQ,CAAC,qBAAD,EAAwBN,KAAxB,EAA+BI,YAA/B,CAA/B;AAEA,SACEG,wCAACC,mBAAD,yCACMd,KADN;AAEE,IAAA,IAAI,EAAE,CAFR;AAGE,IAAA,KAAK,EAAEW,cAHT;AAIE,IAAA,SAAS,EAAEH,UAJb;AAKE,IAAA,OAAO,EAAEX,KAAK,GAAG,QAAH,GAAc;AAL9B,MAOIJ,QAPJ,CADF;AAWD;;;;"}