import{R as e,_ as t,u as o,f as u,C as a,g as c,a as v,b as h,c as E,d as p,e as P,h as T}from"./useTheme-c9bf4c4a.js";export{R as ReThemeContext,m as addThemeEvent,f as fireThemeEvent,g as getDefaultTheme,k as getMergeSizes,i as getSize,j as getSizeMap,r as removeThemeEvent,n as setDefaultTheme,s as setSizes,l as useDimensions,d as useTheme}from"./useTheme-c9bf4c4a.js";import D,{useMemo as N,useEffect as S,useRef as w,useCallback as L,useState as b}from"react";import{deepMerge as B,hasDomAccess as z,noOpObj as I,isFunc as M,checkCall as O,isObj as x,isEmptyColl as y,noPropObj as C,noPropArr as F}from"@keg-hub/jsutils";var U,_,setRNDimensions=function(e){},withTheme=function(n){return function(o){return D.createElement(e.Consumer,null,(function(e){return D.createElement(n,t({theme:e},o))}))}},ReThemeProvider=function(n){var t=n.children,r=n.theme,i=n.merge,f=function(e,n){return N((function(){if(!n)return e;var t=c();return t&&t!==e?B(t,e):e}),[e,n])}(r,Boolean(i||!i&&!1!==i)||!1),s=o(f,!0);return v(s),S((function(){u(a.BUILD_EVENT,s)}),[s]),D.createElement(e.Provider,{value:s},t)},setRNPlatform=function(e){},A=!1;z()&&(U=0,_=function(){U=Date.now(),A&&(A=!1)},document.addEventListener("touchstart",_,!0),document.addEventListener("touchmove",_,!0),document.addEventListener("mousemove",(function(){!A&&Date.now()-U>1e3&&(A=!0)}),!0));var useEventCallBacks=function(e){var n,t=e.pointerState,o=e.onEvent,r=e.offEvent,u=e.onName,i=e.offName,a=b(!1),c=E(a,2),f=c[0],v=c[1],s=L((function(e){O(r,e),v(!1)}),[f,v,r]),m=L((function(e){("hover"!==t||A)&&(O(o,e),v(!0),"active"===t&&document.addEventListener(i,s,{once:!0}))}),[t,f,v,o]);return h(n={},t,f),h(n,u,m),h(n,i,s),n},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):I,o=t.hover,r=void 0!==o&&o,u=t.onPointerIn,i=t.onPointerOut,a="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):I,c=a.focus,f=void 0!==c&&c,v=a.onFocus,s=a.onBlur,m="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):I,d=m.active,h=void 0!==d&&d,l=m.onPointerDown;return N((function(){return{active:h,focus:f,hover:r,events:"hover"===n?{pointerover:u,pointerout:i}:"focus"===n?{focus:v,blur:s}:{pointerdown:l}}}),[h,f,r,s,v,l,u,i,e.ref,n])},loopElementEvents=function(e,n,t){Object.entries(n).map((function(n){var o=E(n,2),r=o[0],u=o[1];return e[t](r,u)}))},createCBRef=function(e,n){var t=w(null),o=L((function(n){t.current=n,M(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return S((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),o=t.events,r=t.hover,u=t.active,i=t.focus;return{hover:r,focus:i,active:u,events:o,ref:createCBRef(e.ref,o)}},useStylesCallback=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,t=arguments.length>2?arguments[2]:void 0,o=L(e,n),r=p(),u=!(!t||!x(t)||y(t))&&t;return N((function(){return O.apply(void 0,[o,r,u].concat(P(n)))||C}),[r,o,u])},useCompareState=function(e,n,t,o){return N((function(){return o?t?n:B(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=w(null),u=usePointerState(T(T({},o),{},{ref:o.ref||r}),e),i=u.ref,a=u[e],c=useCompareState(n,t,Boolean(o.noMerge),a);return[i,c]}},V=useThemeState("hover"),q=useThemeState("active"),G=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=p();return N((function(){return o.get.apply(o,n)||C}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,setRNPlatform,usePointerState,useStyle,useStylesCallback,q as useThemeActive,G as useThemeFocus,V as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
