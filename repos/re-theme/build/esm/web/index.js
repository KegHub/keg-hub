import{D as e,_ as n,R as t,a as o,b as a,g as f,c as h,d as v,e as p,u as d,f as E,h as y}from"./useTheme-c1a60747.js";export{R as ReThemeContext,k as addThemeEvent,l as fireThemeEvent,c as getDefaultTheme,j as getMergeSizes,g as getSize,i as getSizeMap,r as removeThemeEvent,m as setDefaultTheme,s as setSizes,u as useTheme}from"./useTheme-c1a60747.js";import S,{useState as w,useEffect as T,useMemo as P,useRef as b,useCallback as O}from"react";import{get as L,hasDomAccess as D,noOpObj as F,isFunc as _,checkCall as N,isObj as x,isEmptyColl as I,noPropObj as B,noPropArr as C,deepMerge as W}from"@keg-hub/jsutils";var setRNDimensions=function(e){},useDimensions=function(){var t=w(e.get("window")),o=n(t,2),r=o[0],i=o[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,a=n.fontScale;i({width:t,height:o,scale:r,fontScale:a})};return T((function(){return e.addEventListener("change",onChange),function(){return onChange.shouldUnmount=!0,e.removeEventListener("change",onChange)}}),[]),r};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var M,z=(function(e){e.exports=function(){function shim(e,n,t,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}()}(M={exports:{}},M.exports),M.exports),withTheme=function(e){return function(n){return S.createElement(t.Consumer,null,(function(t){return S.createElement(e,o({theme:t},n))}))}},ReThemeProvider=function(o){var r=o.children,i=o.theme,u=o.merge,c=o.platforms,s=Boolean(u||!u&&!1!==u)||!1,m=w(e.get("window")),p=n(m,2),d=p[0],l=p[1],onChange=function(e){var n=e.window,t=n.width,o=n.height,r=n.scale,i=n.fontScale,a=f(t);if(a){var u=a[0],c=v();u!==L(c,["RTMeta","key"])&&l({width:t,height:o,scale:r,fontScale:i})}};T((function(){return e.addEventListener("change",onChange),function(){e.removeEventListener("change",onChange)}}),[]);var g=P((function(){return a(i,d.width,d.height,s&&h(),c)}),[i,d.width,d.height,s,c]);return S.createElement(t.Provider,{value:g},r)};ReThemeProvider.propTypes={theme:z.object.isRequired,merge:z.bool,platforms:z.array,children:z.node};var U,q,setRNPlatform=function(e){},A=!1;D()&&(U=0,q=function(){U=Date.now(),A&&(A=!1)},document.addEventListener("touchstart",q,!0),document.addEventListener("touchmove",q,!0),document.addEventListener("mousemove",(function(){!A&&Date.now()-U>1e3&&(A=!0)}),!0));var useEventCallBacks=function(e){var t,o=e.pointerState,r=e.onEvent,i=e.offEvent,a=e.onName,u=e.offName,c=w(!1),s=n(c,2),f=s[0],h=s[1],m=O((function(e){N(i,e),h(!1)}),[f,h,i]),v=O((function(e){("hover"!==o||A)&&(N(r,e),h(!0),"active"===o&&document.addEventListener(u,m,{once:!0}))}),[o,f,h,r]);return p(t={},o,f),p(t,a,v),p(t,u,m),t},useElementEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0,t="hover"===n?useEventCallBacks({pointerState:n,onName:"onPointerIn",offName:"onPointerOut",onEvent:e.onPointerIn,offEvent:e.onPointerOut}):F,o=t.hover,r=void 0!==o&&o,i=t.onPointerIn,a=t.onPointerOut,u="focus"===n?useEventCallBacks({pointerState:n,onName:"onFocus",offName:"onBlur",onEvent:e.onFocus,offEvent:e.onBlur}):F,c=u.focus,s=void 0!==c&&c,f=u.onFocus,h=u.onBlur,m="active"===n?useEventCallBacks({pointerState:n,onName:"onPointerDown",offName:"mouseup",onEvent:e.onPointerDown,offEvent:e.onMouseUp}):F,v=m.active,p=void 0!==v&&v,d=m.onPointerDown;return P((function(){return{active:p,focus:s,hover:r,events:"hover"===n?{pointerover:i,pointerout:a}:"focus"===n?{focus:f,blur:h}:{pointerdown:d}}}),[p,s,r,h,f,d,i,a,e.ref,n])},loopElementEvents=function(e,t,o){Object.entries(t).map((function(t){var r=n(t,2),i=r[0],a=r[1];return e[o](i,a)}))},createCBRef=function(e,n){var t=b(null),o=O((function(n){t.current=n,_(e)?e(n):e&&(e.current=n)}),[t.current,e,e.current]);return T((function(){return t.current&&loopElementEvents(t.current,n,"addEventListener"),function(){t.current&&loopElementEvents(t.current,n,"removeEventListener")}}),[t.current,n]),o},usePointerState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0,t=useElementEvents(e,n),o=t.events,r=t.hover,i=t.active,a=t.focus;return{hover:r,focus:a,active:i,events:o,ref:createCBRef(e.ref,o)}},useStylesCallback=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,t=arguments.length>2?arguments[2]:void 0,o=O(e,n),r=d(),i=!(!t||!x(t)||I(t))&&t;return P((function(){return N.apply(void 0,[o,r,i].concat(E(n)))||B}),[r,o,i])},useCompareState=function(e,n,t,o){return P((function(){return o?t?n:W(e,n):e}),[e,n,t,o])},useThemeState=function(e){return function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=b(null),i=usePointerState(y(y({},o),{},{ref:o.ref||r}),e),a=i.ref,u=i[e],c=useCompareState(n,t,Boolean(o.noMerge),u);return[a,c]}},H=useThemeState("hover"),V=useThemeState("active"),Y=useThemeState("focus"),useStyle=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=d();return P((function(){return o.get.apply(o,n)||B}),[o].concat(n))};export{ReThemeProvider,setRNDimensions,setRNPlatform,useDimensions,usePointerState,useStyle,useStylesCallback,V as useThemeActive,Y as useThemeFocus,H as useThemeHover,withTheme};
//# sourceMappingURL=index.js.map
