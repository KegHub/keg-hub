import{e,d as t,h as r,_ as n,b as a}from"./useTheme-342e9351.js";import o,{useMemo as u,useRef as c}from"react";import{S as i}from"./styleInjector-a4cde898.js";import{uuid as s,isFunc as l,isObj as f,noOpObj as m,ensureArr as p,deepMerge as y,shallowEqual as v,exists as d}from"@keg-hub/jsutils";import"react-native-web/dist/modules/prefixStyles";import"react-native-web/dist/exports/StyleSheet/createReactDOMStyle";import"react-native-web/dist/exports/StyleSheet/createCompileableStyle";var getComponentName=function(e){return e.displayName||e.name||"keg-".concat(s().split("-").slice(4).join(""))},usePropClassName=function(e,t){return u((function(){var r=e?p(e):[];return t&&r.push(t),r}),[e,t])},useShallowMemoMerge=function(t,r){var n=c(null);return u((function(){if(!r||r===m)return t;if(!t||t===m)return r;var a=y.apply(void 0,[t].concat(e(p(r)))),o=v(n.current,a)?n.current:a;return o!==n.current&&(n.current=o),o}),[t,r])},useReStyles=function(e,r){var n=t(),a=c(r);return u((function(){!v(r,a.current)&&(a.current=r)}),[r,a]),u((function(){return l(e)?e(n,a.current):f(e)?e:m}),[n,e,a.current])},useMergedProps=function(e,n){if(!n)return e;var a=t(),o=u((function(){return l(n)?n(a):n}),[a,e,n]);return u((function(){return r(r({},o),e)}),[o,e])},reStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,c=getComponentName(e),s=i(e,r({className:c,displayName:c},u));return function(e,r){var u=o.forwardRef((function(u,i){var l=useReStyles(e,u),f=usePropClassName(u.className,c),m=d(u[t])?u[t]:null,p=useShallowMemoMerge(l,m),y=useMergedProps(u,r);return o.createElement(s,n({},y,a({},t,p),{ref:i,className:f,__reStyleStylePropKey__:t}))}));return u.displayName="reStyle(".concat(c,")"),u}};reStyle.setConfig=function(e){f(e)||console.warn('Restyle config must be an "Object". Instead got',e),i.setConfig(e)};export{reStyle};
//# sourceMappingURL=reStyle.js.map
