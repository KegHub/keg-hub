import{e,d as t,h as r,_ as n,b as a}from"./useTheme-342e9351.js";import i,{useMemo as o,useRef as u}from"react";import{S as c}from"./styleInjector-3d754b01.js";import{uuid as s,isFunc as l,isObj as f,noOpObj as m,ensureArr as p,deepMerge as y,shallowEqual as v,exists as d}from"@keg-hub/jsutils";import"react-native-web/dist/modules/prefixStyles";import"react-native-web/dist/exports/StyleSheet/flattenStyle";import"react-native-web/dist/exports/StyleSheet/createReactDOMStyle";import"react-native-web/dist/exports/StyleSheet/createCompileableStyle";var getComponentName=function(e){return e.displayName||e.name||"keg-".concat(s().split("-").slice(4).join(""))},usePropClassName=function(e,t){return o((function(){var r=e?p(e):[];return t&&r.push(t),r}),[e,t])},useShallowMemoMerge=function(t,r){var n=u(null);return o((function(){if(!r||r===m)return t;if(!t||t===m)return r;var a=y.apply(void 0,[t].concat(e(p(r)))),i=v(n.current,a)?n.current:a;return i!==n.current&&(n.current=i),i}),[t,r])},useReStyles=function(e,r){var n=t(),a=u(r);return o((function(){!v(r,a.current)&&(a.current=r)}),[r,a]),o((function(){return l(e)?e(n,a.current):f(e)?e:m}),[n,e,a.current])},useMergedProps=function(e,n){if(!n)return e;var a=t(),i=o((function(){return l(n)?n(a):n}),[a,e,n]);return o((function(){return r(r({},i),e)}),[i,e])},reStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,u=getComponentName(e),s=c(e,r({className:u,displayName:u},o));return function(e,r){var o=i.forwardRef((function(o,c){var l=useReStyles(e,o),f=usePropClassName(o.className,u),m=d(o[t])?o[t]:null,p=useShallowMemoMerge(l,m),y=useMergedProps(o,r);return i.createElement(s,n({},y,a({},t,p),{ref:c,className:f,__reStyleStylePropKey__:t}))}));return o.displayName="reStyle(".concat(u,")"),o}};reStyle.setConfig=function(e){f(e)||console.warn('Restyle config must be an "Object". Instead got',e),c.setConfig(e)};export{reStyle};
//# sourceMappingURL=reStyle.js.map
