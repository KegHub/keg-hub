"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-f26cbe1d.js"),r=require("react"),n=require("@keg-hub/jsutils");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=_interopDefaultLegacy(r),StyleInjector=function(e){return function(r){return t.default.createElement(e,r)}},getComponentName=function(e){return e.displayName||e.name||"keg-".concat(n.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,t){return r.useMemo((function(){var r=e?n.ensureArr(e):[];return t&&r.push(t),r}),[e,t])},useShallowMemoMerge=function(t,u){var o=r.useRef(null);return r.useMemo((function(){if(!u||u===n.noOpObj)return t;if(!t||t===n.noOpObj)return u;var r=n.deepMerge.apply(void 0,[t].concat(e._toConsumableArray(n.ensureArr(u)))),a=n.shallowEqual(o.current,r)?o.current:r;return a!==o.current&&(o.current=a),a}),[t,u])},useReStyles=function(t,u){var o=e.useTheme(),a=r.useRef(u);return r.useMemo((function(){!n.shallowEqual(u,a.current)&&(a.current=u)}),[u,a]),r.useMemo((function(){return n.isFunc(t)?t(o,a.current):n.isObj(t)?t:n.noOpObj}),[o,t,a.current])},useMergedProps=function(t,u){if(!u)return t;var o=e.useTheme(),a=r.useMemo((function(){return n.isFunc(u)?u(o):u}),[o,t,u]);return r.useMemo((function(){return e._objectSpread2(e._objectSpread2({},a),t)}),[a,t])},u=n.noOpObj,reStyle=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.noOpObj,c=getComponentName(r),s=StyleInjector(r,e._objectSpread2(e._objectSpread2({className:c},u),{},{displayName:c},a));return function(r,u){var a=t.default.forwardRef((function(a,i){var l=useReStyles(r,a),f=usePropClassName(a.className,c),p=n.exists(a[o])?a[o]:null,d=useShallowMemoMerge(l,p),m=useMergedProps(a,u);return t.default.createElement(s,e._extends({},m,e._defineProperty({},o,d),{ref:i,className:f,__reStyleStylePropKey__:o}))}));return a.displayName="reStyle(".concat(c,")"),a}};reStyle.setConfig=function(e){n.isObj(e)||console.warn('Restyle config must be an "Object". Instead got',e),u=e},exports.reStyle=reStyle;
//# sourceMappingURL=reStyle.js.map
