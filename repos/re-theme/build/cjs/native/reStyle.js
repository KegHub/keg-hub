"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-f26cbe1d.js"),r=require("react"),n=require("@keg-hub/jsutils");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=_interopDefaultLegacy(r),StyleInjector=function(e){return function(r){return t.default.createElement(e,r)}},getComponentName=function(e){return e.displayName||e.name||"keg-".concat(n.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,t){return r.useMemo((function(){var r=e?n.ensureArr(e):[];return t&&r.push(t),r}),[e,t])},useShallowMemoMerge=function(t,u){var o=r.useRef(null);return r.useMemo((function(){if(!u||u===n.noOpObj)return t;if(!t||t===n.noOpObj)return u;var r=n.deepMerge.apply(void 0,[t].concat(e._toConsumableArray(n.ensureArr(u)))),a=n.shallowEqual(o.current,r)?o.current:r;return a!==o.current&&(o.current=a),a}),[t,u])},useReStyles=function(t,u){var o=e.useTheme(),a=r.useRef(u);return r.useMemo((function(){!n.shallowEqual(u,a.current)&&(a.current=u)}),[u,a]),r.useMemo((function(){return n.isFunc(t)?t(o,a.current):n.isObj(t)?t:n.noOpObj}),[o,t,a.current])},useMergedProps=function(t,u){if(!u)return t;var o=e.useTheme(),a=r.useMemo((function(){return n.isFunc(u)?u(o):u}),[o,t,u]);return r.useMemo((function(){return e._objectSpread2(e._objectSpread2({},a),t)}),[a,t])},reStyle=function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.noOpObj,a=getComponentName(r),c=StyleInjector(r,e._objectSpread2({className:a,displayName:a},o));return function(r,o){var s=t.default.forwardRef((function(s,i){var l=useReStyles(r,s),f=usePropClassName(s.className,a),d=n.exists(s[u])?s[u]:null,p=useShallowMemoMerge(l,d),m=useMergedProps(s,o);return t.default.createElement(c,e._extends({},m,e._defineProperty({},u,p),{ref:i,className:f,__reStyleStylePropKey__:u}))}));return s.displayName="reStyle(".concat(a,")"),s}};reStyle.setConfig=function(e){n.isObj(e)||console.warn('Restyle config must be an "Object". Instead got',e),StyleInjector.setConfig(e)},exports.reStyle=reStyle;
//# sourceMappingURL=reStyle.js.map
