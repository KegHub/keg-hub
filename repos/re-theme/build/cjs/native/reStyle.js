"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-3225c6f8.js"),r=require("react"),t=require("@keg-hub/jsutils");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=_interopDefaultLegacy(r),StyleInjector=function(e){return function(r){return n.default.createElement(e,r)}},getComponentName=function(e){return e.displayName||e.name||"keg-".concat(t.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,n){return r.useMemo((function(){var r=e?t.ensureArr(e):[];return n&&r.push(n),r}),[e,n])},useShallowMemoMerge=function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];var a=r.useRef(null);return r.useMemo((function(){var e=t.deepMerge.apply(void 0,n),r=t.shallowEqual(a.current,e)?a.current:e;return r!==a.current&&(a.current=r),r}),[].concat(n))},useReStyles=function(n,u){var a=e.useTheme(),c=r.useState(u),o=e._slicedToArray(c,2),i=o[0],s=o[1],f=t.shallowEqual(u,i);return r.useEffect((function(){!f&&s(u)}),[f]),r.useMemo((function(){return t.isFunc(n)?n(a,u):t.isObj(n)?n:t.noOpObj}),[a,n,f])},useMergedProps=function(n,u){if(!u)return n;var a=e.useTheme(),c=r.useMemo((function(){return t.isFunc(u)?u(a):u}),[a,n,u]);return r.useMemo((function(){return e._objectSpread2(e._objectSpread2({},c),n)}),[c,n])};exports.reStyle=function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",a=getComponentName(r),c=StyleInjector(r);return function(r,o){var i=n.default.forwardRef((function(i,s){var f=useReStyles(r,i),l=usePropClassName(i.className,a),d=t.exists(i[u])?i[u]:null,p=useShallowMemoMerge(f,d),m=useMergedProps(i,o);return n.default.createElement(c,e._extends({},m,e._defineProperty({},u,p),{style:p,className:l,ref:s}))}));return i.displayName="reStyle(".concat(a,")"),i}};
//# sourceMappingURL=reStyle.js.map
