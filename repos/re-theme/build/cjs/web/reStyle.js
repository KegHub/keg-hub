"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-c66cd68a.js"),t=require("react"),r=require("./styleInjector-b83e4501.js"),n=require("@keg-hub/jsutils");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-native-web/dist/modules/prefixStyles"),require("react-native-web/dist/exports/StyleSheet/flattenStyle"),require("react-native-web/dist/exports/StyleSheet/createReactDOMStyle"),require("react-native-web/dist/exports/StyleSheet/createCompileableStyle");var u=_interopDefaultLegacy(t),getComponentName=function(e){return e.displayName||e.name||"keg-".concat(n.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,r){return t.useMemo((function(){var t=e?n.ensureArr(e):[];return r&&t.push(r),t}),[e,r])},useShallowMemoMerge=function(r,u){var a=t.useRef(null);return t.useMemo((function(){if(!u||u===n.noOpObj)return r;if(!r||r===n.noOpObj)return u;var t=n.deepMerge.apply(void 0,[r].concat(e._toConsumableArray(n.ensureArr(u)))),o=n.shallowEqual(a.current,t)?a.current:t;return o!==a.current&&(a.current=o),o}),[r,u])},useReStyles=function(r,u){var a=e.useTheme(),o=t.useRef(u);return t.useMemo((function(){!n.shallowEqual(u,o.current)&&(o.current=u)}),[u,o]),t.useMemo((function(){return n.isFunc(r)?r(a,o.current):n.isObj(r)?r:n.noOpObj}),[a,r,o.current])},useMergedProps=function(r,u){if(!u)return r;var a=e.useTheme(),o=t.useMemo((function(){return n.isFunc(u)?u(a):u}),[a,r,u]);return t.useMemo((function(){return e._objectSpread2(e._objectSpread2({},o),r)}),[o,r])},reStyle=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.noOpObj,i=getComponentName(t),c=r.StyleInjector(t,e._objectSpread2({className:i,displayName:i},o));return function(t,r){var o=u.default.forwardRef((function(o,s){var l=useReStyles(t,o),f=usePropClassName(o.className,i),p=n.exists(o[a])?o[a]:null,d=useShallowMemoMerge(l,p),y=useMergedProps(o,r);return u.default.createElement(c,e._extends({},y,e._defineProperty({},a,d),{ref:s,className:f,__reStyleStylePropKey__:a}))}));return o.displayName="reStyle(".concat(i,")"),o}};reStyle.setConfig=function(e){n.isObj(e)||console.warn('Restyle config must be an "Object". Instead got',e),r.StyleInjector.setConfig(e)},exports.reStyle=reStyle;
//# sourceMappingURL=reStyle.js.map
