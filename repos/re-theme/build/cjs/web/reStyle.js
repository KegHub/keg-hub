"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./useTheme-7b05da74.js"),t=require("react"),r=require("@keg-hub/jsutils"),n=require("./styleInjector-6734dc76.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-native-web/dist/modules/prefixStyles"),require("react-native-web/dist/exports/StyleSheet/flattenStyle"),require("react-native-web/dist/exports/StyleSheet/createReactDOMStyle"),require("react-native-web/dist/exports/StyleSheet/createCompileableStyle");var u=_interopDefaultLegacy(t),getComponentName=function(e){return e.displayName||e.name||"keg-".concat(r.uuid().split("-").slice(4).join(""))},usePropClassName=function(e,n){return t.useMemo((function(){var t=e?r.ensureArr(e):[];return n&&t.push(n),t}),[e,n])},useShallowMemoMerge=function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];var a=t.useRef(null);return t.useMemo((function(){var e=r.deepMerge.apply(void 0,n),t=r.shallowEqual(a.current,e)?a.current:e;return t!==a.current&&(a.current=t),t}),[].concat(n))},useReStyles=function(n,u){var a=e.useTheme(),i=t.useState(u),s=e._slicedToArray(i,2),c=s[0],o=s[1],l=r.shallowEqual(u,c);return t.useEffect((function(){!l&&o(u)}),[l]),t.useMemo((function(){return r.isFunc(n)?n(a,u):r.isObj(n)?n:r.noOpObj}),[a,n,l])},useMergedProps=function(n,u){if(!u)return n;var a=e.useTheme(),i=t.useMemo((function(){return r.isFunc(u)?u(a):u}),[a,n,u]);return t.useMemo((function(){return e._objectSpread2(e._objectSpread2({},i),n)}),[i,n])};exports.reStyle=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",i=getComponentName(t),s=n.StyleInjector(t,{displayName:i,className:i});return function(t,n){var c=u.default.forwardRef((function(c,o){var l=useReStyles(t,c),f=usePropClassName(c.className,i),d=r.exists(c[a])?c[a]:null,y=useShallowMemoMerge(l,d),p=useMergedProps(c,n);return u.default.createElement(s,e._extends({},p,e._defineProperty({},a,y),{style:y,className:f,ref:o}))}));return c.displayName="reStyle(".concat(i,")"),c}};
//# sourceMappingURL=reStyle.js.map
